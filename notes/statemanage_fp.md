## 函数式+状态管理探索前端开发

## 起因

> 不管是用主流的前端框架业务开发还是在写一些 sdk,通常的编程范式都是面向对象的,尤其 es6 新增 Class 语法糖后，功能模块的划分都基于类的力度。在写过和维护过不少代码后,渐渐觉的在状态复杂的应用中,按局部状态、行为来划分并不能让整体代码结构很清晰,且 js 天生的函数灵活性在类的场景下也很受约束, 所以尝试从函数式的角度来寻找一些突破口。

用了小半年的时间,在自己相对熟悉的音视频领域,采用`函数式编程+状态管理`的编程思路,写了一个简单的 [hls 播放器](https://github.com/xiyuyizhi/vod-fp.js),算是对函数式编程有了一些理解和实践。

## 开发的痛点

单纯的局部功能模块,不管是采用 class 还是 function,区别不大,但涉及到整体模块间交互通信,模块划分不够合理,aInstance.bInstance.cProp aIntance.bInstance.dFunc,充斥着大量的 getter,setter 来桥接

- 横夸整个类文件的 this 引用,各个方法中对状态属性的访问和修改,尤其整个 class 功能越来越多,代码越来越不容易维护,说白了不容易和不注重`引用透明`

- a.b.c 的 undefined 报错问题,大量的防御性代码

- 类的实例变成了模块间数据交流的桥梁

- 代码不够简洁

## 函数式

## 函数式的应用

- 对状态的管理

- No Class,No this
